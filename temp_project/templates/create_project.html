{% extends "base.html" %}

{% block title %}Create Project - GrowFarm{% endblock %}

{% block content %}
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="fw-bold mb-4">Create a New Project</h1>
                <p class="lead mb-5">List your agricultural project and connect with potential investors.</p>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4 p-md-5">
                        <form method="POST" action="{{ url_for('create_project') }}" id="project-form" novalidate>
                            {{ form.hidden_tag() }}
                            
                            <div class="mb-4">
                                <h4>Basic Information</h4>
                                <hr>
                            </div>
                            
                            <div class="mb-3">
                                {{ form.title.label(class="form-label") }}
                                {% if form.title.errors %}
                                    {{ form.title(class="form-control is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.title.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.title(class="form-control", placeholder="Enter a descriptive title for your project") }}
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.description.label(class="form-label") }}
                                {% if form.description.errors %}
                                    {{ form.description(class="form-control is-invalid", rows=5) }}
                                    <div class="invalid-feedback">
                                        {% for error in form.description.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.description(class="form-control", rows=5, placeholder="Provide a detailed description of your project, including goals, methods, and timeline") }}
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.category.label(class="form-label") }}
                                {% if form.category.errors %}
                                    {{ form.category(class="form-select is-invalid") }}
                                    <div class="invalid-feedback">
                                        {% for error in form.category.errors %}
                                            {{ error }}
                                        {% endfor %}
                                    </div>
                                {% else %}
                                    {{ form.category(class="form-select") }}
                                {% endif %}
                            </div>
                            
                            <div class="mb-4">
                                <h4 class="mt-4">Financial Details</h4>
                                <hr>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.funding_goal.label(class="form-label") }}
                                    {% if form.funding_goal.errors %}
                                        {{ form.funding_goal(class="form-control is-invalid", id="funding_goal") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.funding_goal.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.funding_goal(class="form-control", id="funding_goal", placeholder="Amount needed to fund your project") }}
                                    {% endif %}
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    {{ form.expected_roi.label(class="form-label") }}
                                    {% if form.expected_roi.errors %}
                                        {{ form.expected_roi(class="form-control is-invalid", id="expected_roi") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.expected_roi.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.expected_roi(class="form-control", id="expected_roi", placeholder="Expected return on investment percentage") }}
                                    {% endif %}
                                    <div class="form-text">The percentage return investors can expect.</div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h4 class="mt-4">Project Details</h4>
                                <hr>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.duration_months.label(class="form-label") }}
                                    {% if form.duration_months.errors %}
                                        {{ form.duration_months(class="form-control is-invalid", id="duration_months") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.duration_months.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.duration_months(class="form-control", id="duration_months", placeholder="How many months will the project take") }}
                                    {% endif %}
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    {{ form.risk_level.label(class="form-label") }}
                                    {% if form.risk_level.errors %}
                                        {{ form.risk_level(class="form-select is-invalid") }}
                                        <div class="invalid-feedback">
                                            {% for error in form.risk_level.errors %}
                                                {{ error }}
                                            {% endfor %}
                                        </div>
                                    {% else %}
                                        {{ form.risk_level(class="form-select") }}
                                    {% endif %}
                                    <div class="form-text">Be honest about risks to build trust with investors.</div>
                                </div>
                            </div>
                            
                            <div class="alert alert-info mt-4">
                                <div class="d-flex">
                                    <div class="flex-shrink-0">
                                        <i class="fas fa-info-circle fa-2x me-3"></i>
                                    </div>
                                    <div>
                                        <h5 class="alert-heading">Important Information</h5>
                                        <p class="mb-0">By submitting this project, you agree to our terms and conditions. Your project will be reviewed and, if approved, will be listed on our platform for potential investors to see and fund.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="d-grid mt-4">
                                {{ form.submit(class="btn btn-primary btn-lg") }}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
